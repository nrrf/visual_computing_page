<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Shaders # Ejemplo de shader en figura geometrica, simplemente se cambio el objeto y la imagen, Creación Original
Que es y Funcionamiento: # Se entiende como shader a un script especifico con lenguaje GLSL o HLSL en la que las instrucciones del script se comunican y se ejecutan directamente en la placa de video sin pasar por el procesador . Esta ejecución directo en la placa de video es la que nos permite ahorrarnos el problema de la memoria y el procesador de la computadora a la hora de procesar esa información grafica (asi es como existen intros 4kb alucinantes y super realistas que pesan tan poco)."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Shaders # Ejemplo de shader en figura geometrica, simplemente se cambio el objeto y la imagen, Creación Original
Que es y Funcionamiento: # Se entiende como shader a un script especifico con lenguaje GLSL o HLSL en la que las instrucciones del script se comunican y se ejecutan directamente en la placa de video sin pasar por el procesador . Esta ejecución directo en la placa de video es la que nos permite ahorrarnos el problema de la memoria y el procesador de la computadora a la hora de procesar esa información grafica (asi es como existen intros 4kb alucinantes y super realistas que pesan tan poco)."><meta property="og:type" content="article"><meta property="og:url" content="https://nrrf.github.io/visual_computing_page/docs/shortcodes/shaders/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-27T21:37:40-05:00"><title>Shaders | CV-2022-1</title><link rel=manifest href=/visual_computing_page/manifest.json><link rel=icon href=/visual_computing_page/favicon.png type=image/x-icon><link rel=stylesheet href=/visual_computing_page/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/visual_computing_page/flexsearch.min.js></script>
<script defer src=/visual_computing_page/en.search.min.fee1c6fb6e9919b35eff4a502dc64dc4a6bf10a0fe6a97371f6608d991cf868e.js integrity="sha256-/uHG+26ZGbNe/0pQLcZNxKa/EKD+apc3H2YI2ZHPho4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/visual_computing_page/><span>CV-2022-1</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><strong>Introducción</strong></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/ilusiones/>Ilusiones</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/projections/>Proyecciones</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/euler_angles/>Angulos de Euler</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/rasterization/>Rasterization</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/scene_tree/>Scene Tree</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/shaders/ class=active>Shaders</a><br></p></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/visual_computing_page/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Shaders</strong>
<label for=toc-control><img src=/visual_computing_page/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#shaders>Shaders</a><ul><li><a href=#que-es-y-funcionamiento>Que es y Funcionamiento:</a></li><li><a href=#tipos-de-shaders>Tipos de shaders</a></li><li><a href=#code---two-colors-interpolated-with-patterns-in-p5js>CODE - Two colors interpolated with patterns in p5js</a></li><li><a href=#code---three-colors-interpolated-with-patterns-in-p5js>CODE - Three Colors interpolated with patterns in p5js</a></li><li><a href=#code---texture-sampling>CODE - Texture sampling</a></li><li><a href=#procedural-texturing>Procedural Texturing</a></li><li><a href=#truchet-tiles>Truchet Tiles</a></li><li><a href=#texture-mapping>Texture Mapping</a></li><li><a href=#code---procedural-texturing>CODE - Procedural Texturing</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y Trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=shaders>Shaders
<a class=anchor href=#shaders>#</a></h1><p>Ejemplo de shader en figura geometrica, simplemente se cambio el objeto y la imagen, <a href=https://aferriss.github.io/p5jsShaderExamples/6_3d/6-4_matcap/>Creación Original</a></p><iframe id=matcap style=width:425px;height:425px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/objetos/p5.quadrille.js/p5.quadrille.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/shaders/matcap.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=que-es-y-funcionamiento>Que es y Funcionamiento:
<a class=anchor href=#que-es-y-funcionamiento>#</a></h2><p>Se entiende como shader a un script especifico con lenguaje GLSL o HLSL en la que las instrucciones del script se comunican y se ejecutan directamente en la placa de video sin pasar por el procesador . Esta ejecución directo en la placa de video es la que nos permite ahorrarnos el problema de la memoria y el procesador de la computadora a la hora de procesar esa información grafica (asi es como existen intros 4kb alucinantes y super realistas que pesan tan poco). Esto también conlleva una limitación que es que los scripts de shaders solo pueden recibir información de variables externas (uniforms), pero esa información solo puede salir en formato de textura, es decir, es imposible utilizar un shader para asignar el valor de un float,bool,int o cualquier tipo de dato primitivo y que eso salga del alcance del shader. Las salidas de los shaders siempre son en texturas(información de imagen). Tomado de mmtt.com.arg</p><h2 id=tipos-de-shaders>Tipos de shaders
<a class=anchor href=#tipos-de-shaders>#</a></h2><ul><li><p>Fragment shader : este tipo de shader fue creado originalmente para manejar el color de las texturas que se aplican a los objetos 3D, pero dada su dinamismo a la hora de procesar los pixeles se inventaron tecnicas como RayMarching que permiten simular luces, y escenarios 3D super realistas solamente utilizando codigo.</p></li><li><p>Vertex Shader : Los vertex shaders son utilizados para procesar información de los vertices de una figura. Es decir, lo puntos que conectan con otros puntos que hace que se genere un triangulo, y mediante muchos de esos triangulos es como se componen los modelos 3D. Los vertex shader permiten modificar la posicion de estos puntos de vertices.</p></li><li><p>Compute shader : Los compute shaders son shaders utilizados para computar una gran cantidad de datos utilizando la tecnologia propia de los shaders. Esto sirve por ejemplo para hacer sistemas de particulas con millones y millones de particulas. A esta tecnica se la conoce como GPU INSTANCING.</p></li><li><p>Tomado de mmtt.com.arg</p></li></ul><p>Estructura general con la que funcionan el vertex y fragment shader:</p><p><img src=https://images.squarespace-cdn.com/content/v1/54851541e4b0fb60932ad015/1454038074178-VX57RNGV25UR9185Z0KW/image-asset.jpeg alt=ImgShaders></p><h2 id=code---two-colors-interpolated-with-patterns-in-p5js>CODE - Two colors interpolated with patterns in p5js
<a class=anchor href=#code---two-colors-interpolated-with-patterns-in-p5js>#</a></h2><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Sketch Code</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>let uvShader;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>let parDef = <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>time</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Save</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>function</span> <span style=color:#f92672>()</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>save</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;frag_texture.png&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Define</span> <span style=color:#a6e22e>geometry</span> <span style=color:#a6e22e>directly</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>clip</span> <span style=color:#a6e22e>space</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span><span style=color:#f92672>).</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Interpolate</span> <span style=color:#a6e22e>only</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>).</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>see</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>github</span><span style=color:#f92672>.</span><span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>VisualComputing</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>.</span><span style=color:#a6e22e>treegl</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>handling</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>uvShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/visual_computing_page/sketches/shader_basic_frag.frag&#39;</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>texcoords2</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function setup() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>gui</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>new</span> <span style=color:#a6e22e>dat</span><span style=color:#f92672>.</span><span style=color:#a6e22e>GUI</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gui</span><span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#39;time&#39;</span>  <span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0.25</span> <span style=color:#f92672>).</span><span style=color:#a6e22e>listen</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gui</span><span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#39;Save&#39;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>name</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Save png&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>shaders</span> <span style=color:#a6e22e>require</span> <span style=color:#a6e22e>WEBGL</span> <span style=color:#a6e22e>mode</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>work</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span><span style=color:#f92672>(</span><span style=color:#ae81ff>400</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>400</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>WEBGL</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1_n</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>function</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1_n</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>20</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>resetShader</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>shader</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uvShader</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>see</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>shader</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>textureMode</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>best</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>simplest</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>just</span> <span style=color:#a6e22e>always</span> <span style=color:#a6e22e>used</span> <span style=color:#a6e22e>NORMAL</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;resolution&#39;</span><span style=color:#f92672>,</span> <span style=color:#f92672>[</span><span style=color:#a6e22e>width</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;mouse&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>mouseX</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>7</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;time&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.01</span><span style=color:#f92672>*</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>.</span><span style=color:#a6e22e>time</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;c1&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>normalizecolor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;c2&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>normalizecolor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color2</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>NORMAL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>clip</span><span style=color:#f92672>-</span><span style=color:#a6e22e>space</span> <span style=color:#a6e22e>quad</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>both</span> <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>y</span> <span style=color:#a6e22e>vertex</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#960050;background-color:#1e0010>∈</span> <span style=color:#f92672>[-</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>quad</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>It</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>s</span> <span style=color:#a6e22e>worth</span> <span style=color:#a6e22e>noting</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>not</span> <span style=color:#a6e22e>mentioned</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>api</span> <span style=color:#a6e22e>docs</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>that</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>quad</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>command</span> <span style=color:#a6e22e>also</span> <span style=color:#a6e22e>adds</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>each</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>its</span> <span style=color:#a6e22e>vertices</span><span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quad</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function normalizecolor(color)<span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>function</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Fragment Shader</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>
</span></span><span style=display:flex><span>precision highp float;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>uniform float time;  
</span></span><span style=display:flex><span>uniform vec2 resolution; 
</span></span><span style=display:flex><span>uniform vec2 mouse;  
</span></span><span style=display:flex><span>uniform vec4 c1;
</span></span><span style=display:flex><span>uniform vec4 c2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#define pi 3.1416 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>float def(vec2 uv, float f)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>const</span> <span style=color:#a6e22e>int</span> <span style=color:#a6e22e>cant</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>20</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>int</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>cant</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span><span style=color:#a6e22e>definimos</span> <span style=color:#a6e22e>un</span> <span style=color:#a6e22e>punto</span> <span style=color:#a6e22e>que</span> <span style=color:#a6e22e>va</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>estar</span> <span style=color:#a6e22e>en</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>centro</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0.5</span><span style=color:#f92672>,</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>)/</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>cant</span><span style=color:#f92672>))-</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>radio</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>length</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>angulo</span>  
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>angulo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>atan</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>,</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>sin</span><span style=color:#f92672>(</span><span style=color:#a6e22e>rad</span><span style=color:#f92672>*</span><span style=color:#ae81ff>20.</span><span style=color:#f92672>+</span><span style=color:#a6e22e>f</span><span style=color:#f92672>+</span><span style=color:#a6e22e>time</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>sin</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pi</span><span style=color:#f92672>)*</span><span style=color:#ae81ff>0.2</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span><span style=color:#f92672>/=</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>cant</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>4.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>abs</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>void main(void)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span><span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>contiene</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>eje</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>coordenadas</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xy</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>forma</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>def</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0.</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e2</span> <span style=color:#f92672>=</span><span style=color:#a6e22e>def</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>,</span><span style=color:#a6e22e>pi</span><span style=color:#f92672>/</span><span style=color:#ae81ff>6.</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>abs</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>final</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>fin</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>c1</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>a</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e2</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>c2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c2</span><span style=color:#f92672>.</span><span style=color:#a6e22e>a</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>final</span> <span style=color:#a6e22e>donde</span> <span style=color:#a6e22e>toma</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>color</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>shader</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fin</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><iframe id=basic_frag style=width:425px;height:425px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
             <script src=https://www.dynamicmath.xyz/calculus/3d-curves/knotTorus/libraries/dat.gui.min.js></script> 
            
            
            
            <script src=/visual_computing_page/sketches/shaders/basic_frag.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=code---three-colors-interpolated-with-patterns-in-p5js>CODE - Three Colors interpolated with patterns in p5js
<a class=anchor href=#code---three-colors-interpolated-with-patterns-in-p5js>#</a></h2><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Sketch Code</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>let uvShader;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>let parDef = <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>time</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Save</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>function</span> <span style=color:#f92672>()</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>save</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;frag_texture.png&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Define</span> <span style=color:#a6e22e>geometry</span> <span style=color:#a6e22e>directly</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>clip</span> <span style=color:#a6e22e>space</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span><span style=color:#f92672>).</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Interpolate</span> <span style=color:#a6e22e>only</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>).</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>see</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>github</span><span style=color:#f92672>.</span><span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>VisualComputing</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>.</span><span style=color:#a6e22e>treegl</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>handling</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>uvShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/visual_computing_page/sketches/three_interpolated.frag&#39;</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>texcoords2</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function setup() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>gui</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>new</span> <span style=color:#a6e22e>dat</span><span style=color:#f92672>.</span><span style=color:#a6e22e>GUI</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gui</span><span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#39;time&#39;</span>  <span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0.25</span> <span style=color:#f92672>).</span><span style=color:#a6e22e>listen</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gui</span><span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#39;Save&#39;</span><span style=color:#f92672>).</span><span style=color:#a6e22e>name</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Save png&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>shaders</span> <span style=color:#a6e22e>require</span> <span style=color:#a6e22e>WEBGL</span> <span style=color:#a6e22e>mode</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>work</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span><span style=color:#f92672>(</span><span style=color:#ae81ff>400</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>400</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>WEBGL</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color1_n</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>function</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1_n</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color2</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>20</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color3</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>255</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color3</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#ae81ff>40</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>resetShader</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>shader</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uvShader</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>see</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>shader</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>textureMode</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>best</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>simplest</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>just</span> <span style=color:#a6e22e>always</span> <span style=color:#a6e22e>used</span> <span style=color:#a6e22e>NORMAL</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;resolution&#39;</span><span style=color:#f92672>,</span> <span style=color:#f92672>[</span><span style=color:#a6e22e>width</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;mouse&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>mouseX</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>7</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;time&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.01</span><span style=color:#f92672>*</span><span style=color:#a6e22e>parDef</span><span style=color:#f92672>.</span><span style=color:#a6e22e>time</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;c1&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>normalizecolor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color1</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;c2&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>normalizecolor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color2</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>uvShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;c3&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>normalizecolor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color3</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>NORMAL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>clip</span><span style=color:#f92672>-</span><span style=color:#a6e22e>space</span> <span style=color:#a6e22e>quad</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>both</span> <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>y</span> <span style=color:#a6e22e>vertex</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#960050;background-color:#1e0010>∈</span> <span style=color:#f92672>[-</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>/</span><span style=color:#a6e22e>quad</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>It</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>s</span> <span style=color:#a6e22e>worth</span> <span style=color:#a6e22e>noting</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>not</span> <span style=color:#a6e22e>mentioned</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>api</span> <span style=color:#a6e22e>docs</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>that</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>quad</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>command</span> <span style=color:#a6e22e>also</span> <span style=color:#a6e22e>adds</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>each</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>its</span> <span style=color:#a6e22e>vertices</span><span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quad</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function normalizecolor(color)<span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>.</span><span style=color:#a6e22e>color</span><span style=color:#f92672>().</span><span style=color:#a6e22e>levels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span><span style=color:#a6e22e>function</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Fragment Shader</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>#ifdef GL_ES
</span></span><span style=display:flex><span>precision mediump float;
</span></span><span style=display:flex><span>#endif
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>uniform float time;  
</span></span><span style=display:flex><span>uniform vec2 resolution; 
</span></span><span style=display:flex><span>uniform vec2 mouse;  
</span></span><span style=display:flex><span>uniform vec4 c1;
</span></span><span style=display:flex><span>uniform vec4 c2; 
</span></span><span style=display:flex><span>uniform vec4 c3;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#define pi 3.1416 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>float def(vec2 uv, float f)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>const</span> <span style=color:#a6e22e>int</span> <span style=color:#a6e22e>cant</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>30</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>int</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>cant</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span><span style=color:#a6e22e>definimos</span> <span style=color:#a6e22e>un</span> <span style=color:#a6e22e>punto</span> <span style=color:#a6e22e>que</span> <span style=color:#a6e22e>va</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>estar</span> <span style=color:#a6e22e>en</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>centro</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>),</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>)/</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>cant</span><span style=color:#f92672>))-</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>radio</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>length</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>angulo</span>  
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>angulo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>atan</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>,</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>sin</span><span style=color:#f92672>(</span><span style=color:#a6e22e>rad</span><span style=color:#f92672>*</span><span style=color:#ae81ff>20.</span><span style=color:#f92672>+</span><span style=color:#a6e22e>f</span><span style=color:#f92672>+</span><span style=color:#a6e22e>time</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>sin</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>*</span><span style=color:#a6e22e>pi</span><span style=color:#f92672>)*</span><span style=color:#ae81ff>0.2</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>e</span><span style=color:#f92672>/=</span><span style=color:#a6e22e>float</span><span style=color:#f92672>(</span><span style=color:#a6e22e>cant</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>4.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>abs</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>void main(void)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span><span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>contiene</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>eje</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>coordenadas</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xy</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>forma</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>def</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0.</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e2</span> <span style=color:#f92672>=</span><span style=color:#a6e22e>def</span><span style=color:#f92672>(</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>,</span><span style=color:#a6e22e>pi</span><span style=color:#f92672>/</span><span style=color:#ae81ff>6.</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>e3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>abs</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e2</span><span style=color:#f92672>+</span><span style=color:#a6e22e>e</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>final</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>fin</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>c1</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c1</span><span style=color:#f92672>.</span><span style=color:#a6e22e>a</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e2</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>c2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c2</span><span style=color:#f92672>.</span><span style=color:#a6e22e>a</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>e3</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>c3</span><span style=color:#f92672>*</span><span style=color:#a6e22e>c3</span><span style=color:#f92672>.</span><span style=color:#a6e22e>a</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>Variable</span> <span style=color:#a6e22e>final</span> <span style=color:#a6e22e>donde</span> <span style=color:#a6e22e>toma</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>color</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>shader</span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fin</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><iframe id=three_interpolated style=width:425px;height:425px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
             <script src=https://www.dynamicmath.xyz/calculus/3d-curves/knotTorus/libraries/dat.gui.min.js></script> 
            
            
            
            <script src=/visual_computing_page/sketches/shaders/three_interpolated.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=code---texture-sampling>CODE - Texture sampling
<a class=anchor href=#code---texture-sampling>#</a></h2><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Sketch Code</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>let lumaShader;
</span></span><span style=display:flex><span>let img;
</span></span><span style=display:flex><span>let grey_scale;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lumaShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/visual_computing_page/sketches/texture_sampling.frag&#39;</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>texcoords2</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>image</span> <span style=color:#a6e22e>source</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>en</span><span style=color:#f92672>.</span><span style=color:#a6e22e>wikipedia</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>wiki</span><span style=color:#f92672>/</span><span style=color:#a6e22e>HSL_and_HSV</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>media</span><span style=color:#f92672>/</span><span style=color:#a6e22e>File</span><span style=color:#f92672>:</span><span style=color:#a6e22e>Fire_breathing_2_Luc_Viatour</span><span style=color:#f92672>.</span><span style=color:#a6e22e>jpg</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/visual_computing_page/sketches/fire_breathing.jpg&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function setup() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span><span style=color:#f92672>(</span><span style=color:#ae81ff>700</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>500</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>WEBGL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>NORMAL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>shader</span><span style=color:#f92672>(</span><span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span><span style=color:#f92672>();</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>10</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;none&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;rgb split&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;luma&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;hsl&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;hsv&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;diffuse&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;average&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>selected</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;none&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;resolution&#39;</span><span style=color:#f92672>,</span> <span style=color:#f92672>[</span><span style=color:#a6e22e>width</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;texture&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>changed</span><span style=color:#f92672>(</span><span style=color:#a6e22e>mySelectEvent</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quad</span><span style=color:#f92672>(-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function mySelectEvent()<span style=color:#75715e>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;luma&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;hsl&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()==</span><span style=color:#e6db74>&#39;hsv&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()==</span><span style=color:#e6db74>&#39;diffuse&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()==</span><span style=color:#e6db74>&#39;average&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>5</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span><span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>sel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>()==</span><span style=color:#e6db74>&#39;rgb split&#39;</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>6</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>else</span><span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>lumaShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;grey_scale&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Fragment Shader</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>precision mediump float;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// uniforms are defined and sent by the sketch
</span></span><span style=display:flex><span>uniform int grey_scale;
</span></span><span style=display:flex><span>uniform sampler2D texture;
</span></span><span style=display:flex><span>uniform vec2 resolution; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// interpolated texcoord (same name and type as in vertex shader)
</span></span><span style=display:flex><span>varying vec2 texcoords2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// returns luma of given texel
</span></span><span style=display:flex><span>float luma(vec3 texel) <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// returns hsl of given texel
</span></span><span style=display:flex><span>float hsl(vec3 texel) <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>max</span><span style=color:#f92672>(</span><span style=color:#a6e22e>max</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span><span style=color:#f92672>),</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>2.0</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>min</span><span style=color:#f92672>(</span><span style=color:#a6e22e>min</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span><span style=color:#f92672>),</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>2.0</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// returns hsv of given texel
</span></span><span style=display:flex><span>float hsv(vec3 texel) <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>max</span><span style=color:#f92672>(</span><span style=color:#a6e22e>max</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span><span style=color:#f92672>),</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// returns difuse of given texel
</span></span><span style=display:flex><span>float color_difuse(vec3 texel, float gray, float res, float scl) <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>threshR</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span><span style=color:#f92672>*</span><span style=color:#a6e22e>res</span><span style=color:#f92672>)/</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>gray</span> <span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>threshG</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span><span style=color:#f92672>*</span><span style=color:#a6e22e>res</span><span style=color:#f92672>)/</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>gray</span> <span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>threshB</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>*</span><span style=color:#a6e22e>res</span><span style=color:#f92672>)/</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)*</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>)</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>gray</span> <span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>threshR</span><span style=color:#f92672>+</span><span style=color:#a6e22e>threshG</span><span style=color:#f92672>,</span><span style=color:#a6e22e>threshB</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>3.0</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>// returns average of given texel
</span></span><span style=display:flex><span>float average(vec3 texel)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>3.0</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>void main() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>texture2D</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texture</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>samples</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>at</span> <span style=color:#a6e22e>texcoords2</span> 
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>returns</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>normalized</span> <span style=color:#a6e22e>texel</span> <span style=color:#a6e22e>color</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>texel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texture</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>gray</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>average</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20.0</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>float</span> <span style=color:#a6e22e>scl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span><span style=color:#f92672>/(</span><span style=color:#ae81ff>10.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>loaded</span> <span style=color:#a6e22e>upside</span> <span style=color:#a6e22e>down</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>backwards</span> <span style=color:#a6e22e>by</span> <span style=color:#a6e22e>default</span> <span style=color:#a6e22e>so</span> <span style=color:#a6e22e>lets</span> <span style=color:#a6e22e>flip</span> <span style=color:#a6e22e>it</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>uv</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>lets</span> <span style=color:#a6e22e>figure</span> <span style=color:#a6e22e>out</span> <span style=color:#a6e22e>how</span> <span style=color:#a6e22e>big</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>pixel</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>on</span> <span style=color:#a6e22e>our</span> <span style=color:#a6e22e>screen</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>we</span> <span style=color:#a6e22e>can</span> <span style=color:#a6e22e>do</span> <span style=color:#a6e22e>this</span> <span style=color:#a6e22e>by</span> <span style=color:#a6e22e>diving</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>by</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>width</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>height</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>our</span> <span style=color:#a6e22e>sketch</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>pixelSize</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>1.0</span><span style=color:#f92672>)</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>this</span> <span style=color:#a6e22e>variable</span> <span style=color:#a6e22e>will</span> <span style=color:#a6e22e>be</span> <span style=color:#a6e22e>used</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>offset</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>color</span> <span style=color:#a6e22e>channels</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>try</span> <span style=color:#a6e22e>changing</span> <span style=color:#a6e22e>the</span> <span style=color:#ae81ff>10.0</span> <span style=color:#a6e22e>here</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>see</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>bigger</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>smaller</span> <span style=color:#a6e22e>change</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>offset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixelSize</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>10.0</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>make</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>for</span> <span style=color:#a6e22e>each</span> <span style=color:#a6e22e>color</span> <span style=color:#a6e22e>channel</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>on</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>red</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>blue</span> <span style=color:#a6e22e>channels</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>we</span> <span style=color:#a6e22e>will</span> <span style=color:#a6e22e>move</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>texture</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#a6e22e>just</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>little</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>rTex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texture</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>offset</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>gTex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texture</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>uv</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>bTex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texture</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>offset</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>1</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>((</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>luma</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>))),</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>2</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>((</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>hsl</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>))),</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>3</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>((</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>hsv</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>))),</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>4</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>((</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color_difuse</span><span style=color:#f92672>(</span><span style=color:#a6e22e>texel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rgb</span><span style=color:#f92672>,</span><span style=color:#a6e22e>gray</span><span style=color:#f92672>,</span><span style=color:#a6e22e>res</span><span style=color:#f92672>,</span><span style=color:#a6e22e>scl</span><span style=color:#f92672>))),</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>5</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>((</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>gray</span><span style=color:#f92672>)),</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>grey_scale</span><span style=color:#f92672>==</span><span style=color:#ae81ff>6</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>rTex</span><span style=color:#f92672>.</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>gTex</span><span style=color:#f92672>.</span><span style=color:#a6e22e>g</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>bTex</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>else</span> <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><iframe id=texture_sampling style=width:725px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/shaders/texture_sampling.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<iframe id=texture_sampling2 style=width:725px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/shaders/texture_sampling2.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=procedural-texturing>Procedural Texturing
<a class=anchor href=#procedural-texturing>#</a></h2><p>El campo de la informática visual, donde se utilizan computadoras para generar imágenes visuales y espaciales del mundo real se conoce como computación gráfica.</p><p>El texturizado en computación gráfica es una técnica muy común utilizada para añadir detalles a la superficie de un objeto. Con un objeto lo que se puede hacer es renderizarlo como un objeto difuso, por ejemplo, utilizando un color sólido para todo el objeto. Si se requiere que el objeto no tenga solo un color sólido, la solución alternativa es dividir el objeto en partes más pequeñas y dar un valor o color único a cada parte del objeto. Romper el objeto para seguir la forma de los detalles de la textura que se quiere aplicar a la superficie de un objeto lleva mucho tiempo y, aunque funciona si el patrón aplicado está hecho sólo de colores sólidos, no funciona si se desea aplicar algunos gradientes de colores en la superficie del objeto.</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Tiling_procedural_textures.jpg/660px-Tiling_procedural_textures.jpg alt=Texturas></p><p>En computación gráfica el patrón aplicado a la superficie de un objeto puede ser una imagen, pero también puede generarse mediante algún tipo de ecuación matemática. Está segunda técnica se denomina texturizado procedimental. La ventaja de este enfoque es el bajo costo de almacenamiento, la resolución ilimitada de las texturas y la facilidad de mapeo de las mismas. Este tipo de texturas se utiliza a menudo para modelar representaciones superficiales o volumétricas de elementos naturales como la madera, el mármol, el granito, el metal, la piedra y otros.</p><p>Algunos tipos de estás texturas son:</p><ol><li><p>Texturizado sólido: es un proceso en el que la función generadora de texturas se evalúa sobre R3 en cada punto de la superficie visible del modelo, de modo que las propiedades del material resultante (como el color, el brillo o la normalidad) sólo dependen de su posición en 3D, y no de su posición parametrizada en la superficie en 2D, como en el mapeo tradicional de texturas en 2D.</p></li><li><p>Textura celular: esta textura se basa en puntos de características que están dispersos en un espacio tridimensional, puntos se utilizan para dividir el espacio en pequeñas regiones al azar llamadas celdas que suelen tener el aspecto de &ldquo;escamas de lagarto&rdquo; o &ldquo;losas&rdquo;. Aunque estas regiones son discretas, la propia función de base celular es continua y puede evaluarse en cualquier lugar del espacio. El ruido de Worley es un tipo común de textura celular.</p></li><li><p>Texturas genéticas: es un enfoque experimental para generar texturas en la cual se modela el resultado final con ayuda de un usuario quien decide cuándo una textura es la adecuada. Como el resultado es difícil de controlar, este método se suele utilizar sólo para texturas experimentales o abstractas.</p></li></ol><h2 id=truchet-tiles>Truchet Tiles
<a class=anchor href=#truchet-tiles>#</a></h2><p>Son baldosas cuadradas decoradas con patrones que no son rotacionalmente simétricos. Cuando se colocan en un mosaico cuadrado del plano, pueden formar patrones variados, y la orientación de cada azulejo puede utilizarse para visualizar información asociada a la posición del azulejo dentro del mosaico.</p><p>A continuación se presenta una fotografía de los azulejos de la Catedral Santa María de la Huerta de Tarazona, perteneciente a la entrada Simetrías I en la Catedral de Tarazona del blog MateTurismo, de Angel Requena.</p><p><img src=https://culturacientifica.com/app/uploads/2022/04/imagen-4-1.jpg alt=Baldosas></p><p>En 1704, Sébastien Truchet estudió todos los posibles patrones formados por los triángulos rectos orientados en las cuatro esquinas de un cuadrado.</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/d/d9/Truchet_base_tiles_bordered.png alt=Patrones></p><p>Este tipo de patrones se han estudiado ampliamente y se han generalizado para incluir otros conjuntos de azulejos que no son rotacionalmente simétricos. En la siguiente imagen, se indica un mosaico Truchet tradicional, luego se indica un mosaico con diagonales y, finalmente, se indica cuartos de círculo, centrados alrededor de los vértices donde las diagonales solían tocarse (estos mosaicos, introducidos por Cyril Stanley Smith, crean interesantes patrones de caminos y círculos en forma de manchas).</p><p><img src=https://3.bp.blogspot.com/-cDGA6vs7PQo/WNV5WpNgq6I/AAAAAAAAD1c/LUB-xZUIJesNoPqBdhcdhQDHwv03SH03gCLcB/s1600/3_styles.png alt="Truchet Tiles"></p><h2 id=texture-mapping>Texture Mapping
<a class=anchor href=#texture-mapping>#</a></h2><p>El mapeo de texturas es un método para añadir realismo a un gráfico generado por ordenador. Una imagen (la textura) se añade (mapea) a una forma más simple que se genera en la escena, como una calcomanía pegada a una superficie plana. Esto reduce la cantidad de computación necesaria para crear las formas y texturas en la escena. Por ejemplo, se puede generar una esfera y mapear una textura de cara, para eliminar la necesidad de procesar la forma de la nariz y los ojos.</p><p>Algunos tipos de mapeo de textura son los siguientes:</p><ol><li><p>Mapeo difuso: es el tipo más común de mapeo de textura. Define el color y el patrón del objeto, es como pintar una imagen en la superficie del objeto.</p></li><li><p>Mapeo especular: se utilizan para definir el brillo/resplandor de una superficie. Normalmente, un mapa especular es una imagen en blanco y negro que mapea el valor de brillo en un objeto. Cuanto más blanco sea el píxel, más brillante será el objeto en ese lugar específico de la textura.</p></li></ol><p><img src=https://cdn-begoj.nitrocdn.com/oNaXHNanfbZkNZkxWvxsifuqbntpZsXW/assets/static/optimized/rev-547990d/wp-content/uploads/2020/06/POLYGONS-01-1-1024x460.png alt="Specular Map"></p><ol start=3><li>Mapeo de Oclusión Ambiental: es un mapa en escala de grises que contiene datos de iluminación. No se suele utilizar como mapa propio, sino que se suele combinar con el mapa difuso para crear sombras suaves.</li></ol><p><img src=https://64.media.tumblr.com/e88a3d142919d4a51b7b966ba6dddf49/tumblr_inline_navbxafNDb1r2xhmf.png alt="AO Map"></p><ol start=4><li>Mapeo Normal: es una técnica que permite dar iluminación y relieve más detallado a la superficie de un objeto. Este mapeo permite representar detalles de la superficie, como arrugas, arañazos y bordes biselados, almacenando las correspondientes normales de la superficie en una textura.</li></ol><p><img src=https://learnopengl.com/img/advanced-lighting/normal_mapping_compare.png alt="Normal map"></p><h2 id=code---procedural-texturing>CODE - Procedural Texturing
<a class=anchor href=#code---procedural-texturing>#</a></h2><p>Para la realización del ejercicio, tuvimos en cuenta los patrones de The book of Shaders y el tutorial de ShaderToy - Truchet Tiling Explained [6].</p><p>Para la implementación, la idea principal es dividir el shader con frag y crear los patrones, para lo cual se usó una función aleatoria. Luego se emplea como una textura dentro de un Cubo.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Sketch Code</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>let pg;
</span></span><span style=display:flex><span>let theShader;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>shader</span> <span style=color:#a6e22e>adapted</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>here</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>thebookofshaders</span><span style=color:#f92672>.</span><span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#ae81ff>09</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/visual_computing_page/sketches/procedural_texturing.frag&#39;</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NONE</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function setup() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span><span style=color:#f92672>(</span><span style=color:#ae81ff>450</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>450</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>WEBGL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>create</span> <span style=color:#a6e22e>frame</span> <span style=color:#a6e22e>buffer</span> <span style=color:#a6e22e>object</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>render</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>procedural</span> <span style=color:#a6e22e>texture</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span><span style=color:#f92672>(</span><span style=color:#ae81ff>450</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>450</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>WEBGL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>12</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>12</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Option 1&#34;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>option</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Option 2&#34;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>selected</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;none&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>changed</span><span style=color:#f92672>(()</span> <span style=color:#f92672>=&gt;</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>theShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;option&#34;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>option</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0.05</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0.05</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>position</span><span style=color:#f92672>(</span><span style=color:#ae81ff>12</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>40</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>style</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;width&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;280px&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>NORMAL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>noStroke</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>textureMode</span><span style=color:#f92672>(</span><span style=color:#a6e22e>NORMAL</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>use</span> <span style=color:#a6e22e>theShader</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>render</span> <span style=color:#a6e22e>onto</span> <span style=color:#a6e22e>pg</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>shader</span><span style=color:#f92672>(</span><span style=color:#a6e22e>theShader</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>emitResolution</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>see</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>github</span><span style=color:#f92672>.</span><span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>VisualComputing</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>.</span><span style=color:#a6e22e>treegl</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>macros</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>emitResolution</span><span style=color:#f92672>(</span><span style=color:#a6e22e>theShader</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Shader</span><span style=color:#f92672>/</span><span style=color:#a6e22e>setUniform</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;u_zoom&#39;</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>pg</span> <span style=color:#a6e22e>clip</span><span style=color:#f92672>-</span><span style=color:#a6e22e>space</span> <span style=color:#a6e22e>quad</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>both</span> <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>y</span> <span style=color:#a6e22e>vertex</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#960050;background-color:#1e0010>∈</span> <span style=color:#f92672>[-</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>quad</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>set</span> <span style=color:#a6e22e>pg</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>texture</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span><span style=color:#f92672>(</span><span style=color:#a6e22e>pg</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#ae81ff>33</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>orbitControl</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>box</span><span style=color:#f92672>(</span><span style=color:#ae81ff>200</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>200</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>200</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function mouseMoved() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>https</span><span style=color:#f92672>://</span><span style=color:#a6e22e>p5js</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>reference</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>/</span><span style=color:#a6e22e>p5</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Shader</span><span style=color:#f92672>/</span><span style=color:#a6e22e>setUniform</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;u_zoom&#39;</span><span style=color:#f92672>,</span> <span style=color:#f92672>((</span><span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>100</span><span style=color:#f92672>)+</span><span style=color:#ae81ff>5</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>theShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;u_rotater&#39;</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>mouseY</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>50</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>theShader</span><span style=color:#f92672>.</span><span style=color:#a6e22e>setUniform</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;vel&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>vel</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>pg</span> <span style=color:#a6e22e>clip</span><span style=color:#f92672>-</span><span style=color:#a6e22e>space</span> <span style=color:#a6e22e>quad</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>i</span><span style=color:#f92672>.</span><span style=color:#a6e22e>e</span><span style=color:#f92672>.,</span> <span style=color:#a6e22e>both</span> <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>y</span> <span style=color:#a6e22e>vertex</span> <span style=color:#a6e22e>coordinates</span> <span style=color:#960050;background-color:#1e0010>∈</span> <span style=color:#f92672>[-</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span><span style=color:#f92672>.</span><span style=color:#a6e22e>quad</span><span style=color:#f92672>(-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Fragment Shader</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>#ifdef GL_ES
</span></span><span style=display:flex><span>precision mediump float;
</span></span><span style=display:flex><span>#endif
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>uniform vec2 u_resolution;
</span></span><span style=display:flex><span>uniform float u_time, u_zoom, u_rotater, vel;
</span></span><span style=display:flex><span>uniform int option;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vec2 brickTile(vec2 _st, float _zoom)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>_zoom</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>//</span> <span style=color:#a6e22e>Here</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>where</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>offset</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>happening</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_st</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span><span style=color:#f92672>(</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>mod</span><span style=color:#f92672>(</span><span style=color:#a6e22e>_st</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>,</span><span style=color:#ae81ff>2.0</span><span style=color:#f92672>))</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>return</span> <span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>_st</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>float box(vec2 _st, vec2 _size)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_size</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0.5</span><span style=color:#f92672>)-(</span><span style=color:#a6e22e>u_zoom</span><span style=color:#f92672>*</span><span style=color:#ae81ff>0.05</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>smoothstep</span><span style=color:#f92672>(</span><span style=color:#a6e22e>_size</span><span style=color:#f92672>,</span><span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>1</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>4</span><span style=color:#f92672>),</span><span style=color:#a6e22e>_st</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>uv</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>smoothstep</span><span style=color:#f92672>(</span><span style=color:#a6e22e>_size</span><span style=color:#f92672>,</span><span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>1</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>4</span><span style=color:#f92672>),</span><span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>1.0</span><span style=color:#f92672>)-</span><span style=color:#a6e22e>_st</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>return</span> <span style=color:#a6e22e>uv</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>uv</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>float Hash21(vec2 p)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>p</span><span style=color:#f92672>=</span><span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>*</span><span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>264.34</span><span style=color:#f92672>,</span><span style=color:#ae81ff>435.345</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>p</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>dot</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>,</span><span style=color:#a6e22e>p</span><span style=color:#f92672>+</span><span style=color:#ae81ff>34.23</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>p</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>void main(void)<span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>option</span><span style=color:#f92672>==</span><span style=color:#ae81ff>2</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>coord</span><span style=color:#f92672>=</span><span style=color:#a6e22e>gl_FragCoord</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>=</span><span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>coord</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>u_time</span><span style=color:#f92672>*</span><span style=color:#a6e22e>vel</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>coord</span><span style=color:#f92672>*=</span><span style=color:#ae81ff>10.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>gv</span><span style=color:#f92672>=</span><span style=color:#a6e22e>fract</span><span style=color:#f92672>(</span><span style=color:#a6e22e>coord</span><span style=color:#f92672>)-.</span><span style=color:#ae81ff>5</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>coord</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>float</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>=</span><span style=color:#a6e22e>Hash21</span><span style=color:#f92672>(</span><span style=color:#a6e22e>id</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>float</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=.</span><span style=color:#ae81ff>2</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>n</span><span style=color:#f92672>&lt;.</span><span style=color:#ae81ff>5</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    	<span style=color:#a6e22e>gv</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>*=-</span><span style=color:#ae81ff>1.</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  	<span style=color:#75715e>}</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>float</span> <span style=color:#a6e22e>mask</span><span style=color:#f92672>=</span><span style=color:#a6e22e>smoothstep</span><span style=color:#f92672>(.</span><span style=color:#ae81ff>01</span><span style=color:#f92672>,-.</span><span style=color:#ae81ff>01</span><span style=color:#f92672>,</span><span style=color:#a6e22e>abs</span><span style=color:#f92672>(</span><span style=color:#a6e22e>gv</span><span style=color:#f92672>.</span><span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#a6e22e>gv</span><span style=color:#f92672>.</span><span style=color:#a6e22e>x</span><span style=color:#f92672>)-</span><span style=color:#a6e22e>width</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>color</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>mask</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>gl_FragColor</span><span style=color:#f92672>=</span><span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span> 	 
</span></span><span style=display:flex><span>	<span style=color:#75715e>}</span><span style=color:#a6e22e>else</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span><span style=color:#f92672>.</span><span style=color:#a6e22e>xy</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  	<span style=color:#f92672>//</span> <span style=color:#a6e22e>Modern</span> <span style=color:#a6e22e>metric</span> <span style=color:#a6e22e>brick</span> <span style=color:#a6e22e>of</span> <span style=color:#ae81ff>215</span><span style=color:#a6e22e>mm</span> <span style=color:#a6e22e>x</span> <span style=color:#ae81ff>102.5</span><span style=color:#a6e22e>mm</span> <span style=color:#a6e22e>x</span> <span style=color:#ae81ff>65</span><span style=color:#a6e22e>mm</span>
</span></span><span style=display:flex><span>  	<span style=color:#f92672>//</span> <span style=color:#a6e22e>http</span><span style=color:#f92672>://</span><span style=color:#a6e22e>www</span><span style=color:#f92672>.</span><span style=color:#a6e22e>jaharrison</span><span style=color:#f92672>.</span><span style=color:#a6e22e>me</span><span style=color:#f92672>.</span><span style=color:#a6e22e>uk</span><span style=color:#f92672>/</span><span style=color:#a6e22e>Brickwork</span><span style=color:#f92672>/</span><span style=color:#a6e22e>Sizes</span><span style=color:#f92672>.</span><span style=color:#a6e22e>html</span>
</span></span><span style=display:flex><span>  	<span style=color:#f92672>//</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>2.15</span><span style=color:#f92672>,</span><span style=color:#ae81ff>0.65</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>1.5</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  	<span style=color:#f92672>//</span> <span style=color:#a6e22e>Apply</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>brick</span> <span style=color:#a6e22e>tiling</span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>brickTile</span><span style=color:#f92672>(</span><span style=color:#a6e22e>st</span><span style=color:#f92672>,</span><span style=color:#ae81ff>5.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span><span style=color:#f92672>(</span><span style=color:#a6e22e>box</span><span style=color:#f92672>(</span><span style=color:#a6e22e>st</span><span style=color:#f92672>,</span><span style=color:#a6e22e>vec2</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0.9</span><span style=color:#f92672>)));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  	<span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span><span style=color:#f92672>(</span><span style=color:#a6e22e>color</span><span style=color:#f92672>,</span><span style=color:#ae81ff>1.0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><iframe id=procedural_texturing style=width:475px;height:475px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/shaders/procedural_texturing.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusiones-y-trabajo-futuro>Conclusiones y Trabajo futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h2><p>Los shaders son muy flexibles y tienen gran utilidad ya que cada uno de sus uniforms se pasan desde la interfaz, y por sus propiedades, se renderiza de una manera muy rapida en la pagina, ademas permite customizar cualquier tipo de objeto con el patron que se realiza en el shader, como trabajo futuro esta hacer masking y mapping de aun mas complejidad para reforzar todo lo visto en la investigación de esta interesante tematica.</p><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><p>[1] <a href=https://en.wikipedia.org/wiki/Procedural_texture>https://en.wikipedia.org/wiki/Procedural_texture</a></p><p>[2] <a href=https://en.wikipedia.org/wiki/Computer_graphics>https://en.wikipedia.org/wiki/Computer_graphics</a></p><p>[3] <a href=https://culturacientifica.com/2022/04/20/el-arte-de-la-sencilla-baldosa-de-truchet/>https://culturacientifica.com/2022/04/20/el-arte-de-la-sencilla-baldosa-de-truchet/</a></p><p>[4] <a href=https://en.wikipedia.org/wiki/Truchet_tiles>https://en.wikipedia.org/wiki/Truchet_tiles</a></p><p>[5] <a href=https://www.mathrecreation.com/2017/03/truchet-tiles.html>https://www.mathrecreation.com/2017/03/truchet-tiles.html</a></p><p>[6] <a href="https://www.youtube.com/watch?v=2R7h76GoIJM">https://www.youtube.com/watch?v=2R7h76GoIJM</a></p><p>[7] <a href=http://wedesignvirtual.com/what-does-a-specular-map-do/>http://wedesignvirtual.com/what-does-a-specular-map-do/</a></p><p>[8] <a href=https://docs.cryengine.com/display/SDKDOC2/Diffuse+Maps>https://docs.cryengine.com/display/SDKDOC2/Diffuse+Maps</a></p><p>[9] <a href=https://askagamedev.tumblr.com/post/95739492476/could-you-explain-the-difference-between-bump>https://askagamedev.tumblr.com/post/95739492476/could-you-explain-the-difference-between-bump</a></p><p>[10] <a href=https://learnopengl.com/Advanced-Lighting/Normal-Mapping>https://learnopengl.com/Advanced-Lighting/Normal-Mapping</a></p><p>[11] <a href=https://docs.cryengine.com/display/SDKDOC2/Normal+Maps>https://docs.cryengine.com/display/SDKDOC2/Normal+Maps</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/e3ccf1a44cc219800334da1e66c8e78ddd96a0b8 title='Last modified by nrrf | June 28, 2022' target=_blank rel=noopener><img src=/visual_computing_page/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 28, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#shaders>Shaders</a><ul><li><a href=#que-es-y-funcionamiento>Que es y Funcionamiento:</a></li><li><a href=#tipos-de-shaders>Tipos de shaders</a></li><li><a href=#code---two-colors-interpolated-with-patterns-in-p5js>CODE - Two colors interpolated with patterns in p5js</a></li><li><a href=#code---three-colors-interpolated-with-patterns-in-p5js>CODE - Three Colors interpolated with patterns in p5js</a></li><li><a href=#code---texture-sampling>CODE - Texture sampling</a></li><li><a href=#procedural-texturing>Procedural Texturing</a></li><li><a href=#truchet-tiles>Truchet Tiles</a></li><li><a href=#texture-mapping>Texture Mapping</a></li><li><a href=#code---procedural-texturing>CODE - Procedural Texturing</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y Trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>