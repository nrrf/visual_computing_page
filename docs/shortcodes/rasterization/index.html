<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Rasterization # Dentro del ámbito se han estudiado varios algoritmos de representación y técnicas para la obtención de imágenes, ya que analizar una partícula de luz en un espacio considerablemente grande no es práctico ni eficiente, y por eso se debe realizar un muestreo de manera inteligente para producir una imagen.
Una de las técnicas utilizadas para lograr tal eficiencia es la rasterización (raster con significado en cine y televisión, refiriéndose a un tubo catódico que permite visualizar imágenes mediante un haz de rayos catódicos) que toma la imagen descrita por gráficos vectoriales (formas geométricas dependientes) y la convierte en un conjunto de pixeles que a su vez se utilizan para salidas digitales."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Rasterization # Dentro del ámbito se han estudiado varios algoritmos de representación y técnicas para la obtención de imágenes, ya que analizar una partícula de luz en un espacio considerablemente grande no es práctico ni eficiente, y por eso se debe realizar un muestreo de manera inteligente para producir una imagen.
Una de las técnicas utilizadas para lograr tal eficiencia es la rasterización (raster con significado en cine y televisión, refiriéndose a un tubo catódico que permite visualizar imágenes mediante un haz de rayos catódicos) que toma la imagen descrita por gráficos vectoriales (formas geométricas dependientes) y la convierte en un conjunto de pixeles que a su vez se utilizan para salidas digitales."><meta property="og:type" content="article"><meta property="og:url" content="https://nrrf.github.io/visual_computing_page/docs/shortcodes/rasterization/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-21T18:41:30-05:00"><title>Rasterization | CV-2022-1</title><link rel=manifest href=/visual_computing_page/manifest.json><link rel=icon href=/visual_computing_page/favicon.png type=image/x-icon><link rel=stylesheet href=/visual_computing_page/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/visual_computing_page/flexsearch.min.js></script>
<script defer src=/visual_computing_page/en.search.min.fee1c6fb6e9919b35eff4a502dc64dc4a6bf10a0fe6a97371f6608d991cf868e.js integrity="sha256-/uHG+26ZGbNe/0pQLcZNxKa/EKD+apc3H2YI2ZHPho4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/visual_computing_page/><span>CV-2022-1</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><strong>Introducción</strong></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/ilusiones/>Ilusiones</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/projections/>Proyecciones</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/euler_angles/>Angulos de Euler</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/rasterization/ class=active>Rasterization</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/scene_tree/>Scene Tree</a></p></li><li><p><a href=/visual_computing_page/docs/shortcodes/shaders/>Shaders</a><br></p></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/visual_computing_page/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Rasterization</strong>
<label for=toc-control><img src=/visual_computing_page/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#rasterization>Rasterization</a></li><li><a href=#renderizado-de-software-software-rendering>Renderizado de software (Software Rendering)</a><ul><li><a href=#estado-del-arte>Estado del arte</a></li></ul></li><li><a href=#aliasing-and-anti-alising-in-computer-graphics>Aliasing and Anti alising in Computer Graphics</a><ul><li><a href=#what-is-aliasing>What is Aliasing</a></li><li><a href=#anti-aliasing-and-methods>Anti aliasing and methods</a><ul><li><a href=#post-filtering-multisamppling>Post filtering (Multisamppling)</a></li><li><a href=#código>Código</a></li><li><a href=#imagen-original-a-analizar>Imagen Original a analizar</a></li><li><a href=#imagen-original-a-escala-04-division-de-15-subdivision-de-4>Imagen Original a escala 0.4, division de 15, subdivision de 4</a></li><li><a href=#imagen-original-a-escala-04-division-de-5-subdivision-de-5>Imagen Original a escala 0.4, division de 5, subdivision de 5</a></li><li><a href=#imagen-original-a-escala-04-division-de-40-subdivision-de-10>Imagen Original a escala 0.4, division de 40, subdivision de 10</a></li><li><a href=#fuentes>Fuentes</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=rasterization>Rasterization
<a class=anchor href=#rasterization>#</a></h1><p>Dentro del ámbito se han estudiado varios algoritmos de representación y técnicas para la obtención de imágenes, ya que analizar una partícula de luz en un espacio considerablemente grande no es práctico ni eficiente, y por eso se debe realizar un muestreo de manera inteligente para producir una imagen.</p><p>Una de las técnicas utilizadas para lograr tal eficiencia es la rasterización (raster con significado en cine y televisión, refiriéndose a un tubo catódico que permite visualizar imágenes mediante un haz de rayos catódicos) que toma la imagen descrita por gráficos vectoriales (formas geométricas dependientes) y la convierte en un conjunto de pixeles que a su vez se utilizan para salidas digitales. Se suele utilizar para dos momentos en específico; cuando se trabaja con imágenes de gran complejidad o cuando se van a aplicar filtros sobre la imagen resultante.</p><p>Una representación común en los modelos digitales 3D es el poligonal, pero antes de que sean rasterizados, esos polígonos deben dividirse en triángulos, de manera que primero se debe definir la rasterización de un triángulo. Se requiere primeramente que la rasterización de dos triángulos adyacentes, que son aquellos que comparten una arista, no dejen espacios vacíos entre los triángulos (pixeles no rasterizados) para que el área de los triángulos adyacentes y superficie rasterizada esté llena por completo, sin necesidad de superponer los triángulos.</p><p>Esto lleva a establecer reglas de rasterización para garantizar las condiciones anteriores. Un conjunto de tales reglas se denomina regla superior izquierda, que establece que un píxel se rasteriza si y sólo si su centro se encuentra completamente dentro del triángulo. O su centro se encuentra exactamente en el borde del triángulo (o múltiples bordes en el caso de las esquinas) que es (o, en el caso de las esquinas, todos son) el borde superior o el izquierdo.</p><h1 id=renderizado-de-software-software-rendering>Renderizado de software (Software Rendering)
<a class=anchor href=#renderizado-de-software-software-rendering>#</a></h1><p>¿Qué es? Proceso que utiliza un software específico (comunes en diferentes áreas; cine, videojuegos, arquitectura, efectos en películas, simulaciones, entre otros) para tener como resultado una imagen a partir de un modelo.</p><p>Este tipo de renderizado puede dividirse en dos tipos; uno en tiempo real y el otro previamente renderizado, el primero utilizado por lo general para videojuegos en donde se requiere que se vaya actualizando a medida que se vaya jugando, esperando respuestas en milisegundos, mientras que un renderizado fuera de línea puede verse aplicada en imágenes, películas en que se requieren escenas realistas y que usualmente se demoran en dar el resultado final, por ejemplo en películas animadas en donde conjuga una serie de elementos como la apariencia final de los elementos, texturas, sombras, enfoque de movimiento, efectos, y en general todo el proceso de animación.
En la CPU suele renderizarse íntegramente los modelos ya que tiene la ventaja de que no está restringida a la capacidad de los gráficos, que de por sí son limitados, aunque cabe resaltar que se necesitan más semiconductores para alcanzar un buen rendimiento.</p><p><img src=https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Software_renderer_embedded.gif/220px-Software_renderer_embedded.gif alt=aliasing></p><p>Procesador de software ejecutándose en un dispositivo sin GPU.</p><h2 id=estado-del-arte>Estado del arte
<a class=anchor href=#estado-del-arte>#</a></h2><p>Aplicaciones</p><p>Dentro de las aplicaciones con renderizado en tiempo real se pueden hallar sobre todo videojuegos, uno de los primeros fue Descent que permitía modelos en 3D todo con base en lo que repasamos de rasterización triangular, los cuales convertía en mapas de bits, como otros tantos juegos de la época que utilizaron esta misma representación y que por ende se aumentaron las ventas en ciertos componentes de cómputo (tarjetas gráficas) y también el aprovechamiento del uso de API’s como OpenGL. Luego en juegos arcade y en los mismos mercados de consolas de videojuegos se orientó modelos 3D mucho más avanzados y con las llegada de 16 bits en consolas se aceleraron muchos procesos con el uso de cartuchos RISC.
A partir de esto, ha crecido constantemente el rendimiento de cómputo para poder renderizar sobre hardware de gráficos y que nuevas tecnologías de renderizado de software sigan promoviendo nuevos procesos como la compilación dinámica, que optimiza y mejora el rendimiento.
Con respecto al renderizado fuera de línea, podemos encontrar sobre todo ejemplos en la industria cinematográfica para la creación de escenas realistas y personajes generados por computadora. Pixar sentó un precedente con la película Toy Story, también con Buscando a Nemo, y debido a todos los detalles que confluyen el renderizado sin conexión brinda la posibilidad de manejar la diversidad de efectos como se maneja, apoyándose en la flexibilidad permite sombreadores de longitud, y alto realismo como el trazado de rayos e iluminación global, dentro de las producciones de objetos con movimiento que requieren procesadores de propósito general de la más alta calidad.
Se cree además que el crecimiento va a ser tan inmensurable que CPU y GPU convergerán de alguna manera u otra haciendo que la línea entre software y hardware desaparezca.</p><h1 id=aliasing-and-anti-alising-in-computer-graphics>Aliasing and Anti alising in Computer Graphics
<a class=anchor href=#aliasing-and-anti-alising-in-computer-graphics>#</a></h1><h2 id=what-is-aliasing>What is Aliasing
<a class=anchor href=#what-is-aliasing>#</a></h2><p>En gráficos por computadora, el proceso por el cual las curvas suaves y otras líneas se vuelven irregulares (jagged) debido a que la resolución del dispositivo de gráficos del archivo no es lo suficientemente alta para representar una curva suave.</p><p>En los algoritmos de dibujo de líneas, hemos visto que todas las ubicaciones rasterizadas no coinciden con la línea verdadera y tenemos que seleccionar las ubicaciones de raster óptimas para representar una línea recta. Este problema es grave en pantallas de baja resolución. En tales pantallas, la línea aparece como un escalón.</p><h2 id=anti-aliasing-and-methods>Anti aliasing and methods
<a class=anchor href=#anti-aliasing-and-methods>#</a></h2><p>Anti aliasing es una tecnica usada en computación grafica para remover el efecto de Aliasing</p><p><img src=https://1.bp.blogspot.com/-8L8gpE1m_mc/YVqjUrSTrpI/AAAAAAAAYDc/ljnZk2aogCcUWmXpc12HVw2awK4J3gdvQCLcBGAsYHQ/s0/ANTIALIASING.gif alt=aliasing></p><p>Los metodos principales de anti-aliasing:</p><ul><li>SSAA (Super Sample Anti Aliasing): SSAA es una manera muy efectiva de combatir el Aliasing, y fue la primera que estuvo disponible. No obstante ya no se utiliza demasiado porque tiene un alto impacto en el rendimiento, ya que lo que hace es obligar a la GPU a renderizar los juegos a mayor resolución de la que se muestra y luego generar una imagen a la resolución de salida del monitor</li><li>MSAA (Multi Sampling Anti Aliasing): MSAA es uno de los modos más comunes, pero tan solo es capaz de suavizar polígonos, aunque a cambio tiene un menor impacto en el rendimiento. Su forma de combatir el Aliasing se hace mediante el renderizado de más frames de la cuenta, sacando muestras y combinando ambos. Hay diferentes niveles de intensidad, por lo que podréis ver que existen opciones como 2xMSAA, 4xMSAA y 8xMSAA.</li><li>CSAA (Coverage Sampling Anti Aliasing) y EQAA (Enhanced Quality Anti Aliasing): CSAA fue desarrollado por NVIDIA, mientras que EQAA es su equivalente para gráficas AMD. Ambos funcionan igual que MSAA pero optimizados para sus respectivas gráficas, por lo que tienen un menor impacto en el rendimiento.</li><li>FXAA (Fast Approximate Anti Aliasing): este modo se considera el de menor grado, ya que es el que menos se nota su efecto y el que menor impacto tiene en el rendimiento, por lo que es el modo recomendado para PCs de gama baja o que vayan «justos» en los juegos. No hace mal su trabajo a la hora de mitigar los bordes de sierra, pero tiene un defecto y es que a veces produce que las imágenes se vean algo borrosas.</li><li>TXAA (Temporal Anti Aliasing): TXAA utiliza algo más de recursos de la GPU que FXAA, pero combina diferentes técnicas de las anteriores para conseguir unos bordes más suaves y mitigar más el Aliasing. No obstante, tampoco es perfecto y también causa a veces que las imágenes se vean algo borrosas.</li></ul><p>Vamos a ahondar en lo que es el segundo metodo:</p><h3 id=post-filtering-multisamppling>Post filtering (Multisamppling)
<a class=anchor href=#post-filtering-multisamppling>#</a></h3><p>Vamos a ver a traves de un ejercicio, la nocion basica bajo la que funciona este tipo de antialiasing</p><p><img src=https://hardzone.es/app/uploads-hardzone.es/2020/04/Circulo-aliasing-e1630688967301.png alt=anti-aliasing></p><h3 id=código>Código
<a class=anchor href=#c%c3%b3digo>#</a></h3><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Code</span>
<span>...</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tpl data-lang=tpl><span style=display:flex><span>let upScale = 0.4;
</span></span><span style=display:flex><span>let quadrille; 
</span></span><span style=display:flex><span>let subquadrille; 
</span></span><span style=display:flex><span>let DIVIDE_QUADRILLE=15
</span></span><span style=display:flex><span>let DIVIDE_SUBQUADRILLE=4
</span></span><span style=display:flex><span>let img
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/visual_computing_page/sketches/happy.jpg&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>function setup() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span><span style=color:#f92672>((</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>)</span> <span style=color:#f92672>,</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loadImage</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/visual_computing_page/sketches/happy.jpg&#34;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>loadedImage</span> <span style=color:#f92672>=&gt;</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>//</span> <span style=color:#a6e22e>when</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>image</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>fully</span> <span style=color:#a6e22e>loaded</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadedImage</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>//</span> <span style=color:#a6e22e>make</span> <span style=color:#a6e22e>pixels</span> <span style=color:#a6e22e>available</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>loadPixels</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;#a8b8f8&#39;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>//</span> <span style=color:#a6e22e>blurred</span> <span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>//</span><span style=color:#a6e22e>image</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quadrille</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createQuadrille</span><span style=color:#f92672>(</span><span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>subquadrille</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createQuadrille</span><span style=color:#f92672>(</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawQuadrille</span><span style=color:#f92672>(</span><span style=color:#a6e22e>subquadrille</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#f92672>((</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>)</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>)</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>outline</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;blue&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>board</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawQuadrille</span><span style=color:#f92672>(</span><span style=color:#a6e22e>quadrille</span><span style=color:#f92672>,</span> <span style=color:#75715e>{</span> <span style=color:#a6e22e>cellLength</span><span style=color:#f92672>:</span> <span style=color:#f92672>((</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>upScale</span><span style=color:#f92672>)</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>),</span> <span style=color:#a6e22e>outline</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;green&#39;</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>board</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> <span style=color:#75715e>}</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>getAliasedGraphics</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function keyPressed() <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>if</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>key</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;c&#39;</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>quadrille</span><span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>if</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>key</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;t&#39;</span><span style=color:#f92672>)</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>getAliasedGraphics</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function getAliasedGraphics(img) <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>imageWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>imageWidth</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>height</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>pixels</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>pixels</span><span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Array</span><span style=color:#f92672>.</span><span style=color:#a6e22e>from</span><span style=color:#f92672>(</span><span style=color:#a6e22e>pixels</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>typeof</span><span style=color:#f92672>(</span><span style=color:#a6e22e>pixels</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>arr</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>numBytes</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>numBytes</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>pixels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>BYTES_PER_ELEMENT</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>remember</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>p5</span> <span style=color:#a6e22e>pixels</span> <span style=color:#a6e22e>are</span> <span style=color:#a6e22e>R</span><span style=color:#f92672>,</span><span style=color:#a6e22e>G</span><span style=color:#f92672>,</span><span style=color:#a6e22e>B</span><span style=color:#f92672>,</span><span style=color:#a6e22e>A</span> <span style=color:#a6e22e>bytes</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>so</span> <span style=color:#a6e22e>skip</span> <span style=color:#a6e22e>every</span> <span style=color:#ae81ff>4</span> <span style=color:#a6e22e>bytes</span> <span style=color:#a6e22e>for</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>pixel</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>pixelIndex</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>this</span> <span style=color:#a6e22e>case</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>counting</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>pixel</span> <span style=color:#a6e22e>at</span> <span style=color:#a6e22e>time</span> 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>division</span> <span style=color:#a6e22e>por</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>,</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>por</span> <span style=color:#a6e22e>los</span> <span style=color:#a6e22e>colores</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>var</span> <span style=color:#a6e22e>perChunk</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span><span style=color:#f92672>.</span><span style=color:#a6e22e>reduce</span><span style=color:#f92672>((</span><span style=color:#a6e22e>resultArray</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>index</span><span style=color:#f92672>)</span> <span style=color:#f92672>=&gt;</span> <span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>const</span> <span style=color:#a6e22e>chunkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Math</span><span style=color:#f92672>.</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>index</span><span style=color:#f92672>/</span><span style=color:#a6e22e>perChunk</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>if</span><span style=color:#f92672>(!</span><span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>])</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[]</span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>start</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>new</span> <span style=color:#a6e22e>chunk</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>].</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>resultArray</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span><span style=color:#f92672>,</span> <span style=color:#f92672>[])</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>arr</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>const</span> <span style=color:#a6e22e>newArr</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Aca</span> <span style=color:#a6e22e>se</span> <span style=color:#a6e22e>crea</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>matriz</span> <span style=color:#a6e22e>original</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>pixeles</span> <span style=color:#a6e22e>cada</span> <span style=color:#a6e22e>uno</span> <span style=color:#a6e22e>con</span> <span style=color:#a6e22e>un</span> <span style=color:#a6e22e>arreglo</span> <span style=color:#a6e22e>de</span> <span style=color:#ae81ff>4</span> <span style=color:#a6e22e>representado</span> <span style=color:#a6e22e>los</span> <span style=color:#a6e22e>colores</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>while</span><span style=color:#f92672>(</span><span style=color:#a6e22e>arr</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>newArr</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>arr</span><span style=color:#f92672>.</span><span style=color:#a6e22e>splice</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>newArr</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Ahora</span> <span style=color:#a6e22e>vamos</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>dividir</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>matriz</span> <span style=color:#a6e22e>tomando</span> <span style=color:#a6e22e>muestras</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>cada</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>subcuadrillas</span> <span style=color:#a6e22e>en</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>esquina</span> <span style=color:#a6e22e>superior</span> <span style=color:#a6e22e>izquierda</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>list</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[]</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>for</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>height</span><span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>Math</span><span style=color:#f92672>.</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>((</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>))))</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span><span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>Math</span><span style=color:#f92672>.</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>((</span><span style=color:#a6e22e>img</span><span style=color:#f92672>.</span><span style=color:#a6e22e>width</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>))))</span><span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newArr</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#ae81ff>0</span><span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newArr</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#ae81ff>1</span><span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newArr</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#ae81ff>2</span><span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newArr</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#ae81ff>3</span><span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>list</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>([</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>g</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>b</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>//</span><span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span><span style=color:#a6e22e>g</span><span style=color:#f92672>,</span><span style=color:#a6e22e>b</span><span style=color:#f92672>,</span><span style=color:#a6e22e>a</span><span style=color:#f92672>,</span><span style=color:#a6e22e>i</span><span style=color:#f92672>,</span><span style=color:#a6e22e>j</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>list</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>debido</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>que</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>priori</span> <span style=color:#a6e22e>sabemos</span> <span style=color:#a6e22e>que</span> <span style=color:#a6e22e>se</span> <span style=color:#a6e22e>tienen</span> <span style=color:#ae81ff>4</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>estas</span> <span style=color:#a6e22e>subcuadriculas</span> <span style=color:#a6e22e>por</span> <span style=color:#a6e22e>fila</span> <span style=color:#a6e22e>para</span> <span style=color:#a6e22e>completar</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>cuadrilla</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>lsa</span> <span style=color:#a6e22e>dividimos</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>var</span> <span style=color:#a6e22e>perChunk</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>var</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>list</span><span style=color:#f92672>.</span><span style=color:#a6e22e>reduce</span><span style=color:#f92672>((</span><span style=color:#a6e22e>resultArray</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>item</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>index</span><span style=color:#f92672>)</span> <span style=color:#f92672>=&gt;</span> <span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>const</span> <span style=color:#a6e22e>chunkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Math</span><span style=color:#f92672>.</span><span style=color:#a6e22e>floor</span><span style=color:#f92672>(</span><span style=color:#a6e22e>index</span><span style=color:#f92672>/</span><span style=color:#a6e22e>perChunk</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>if</span><span style=color:#f92672>(!</span><span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>])</span> <span style=color:#75715e>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[]</span> <span style=color:#f92672>//</span> <span style=color:#a6e22e>start</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>new</span> <span style=color:#a6e22e>chunk</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resultArray</span><span style=color:#f92672>[</span><span style=color:#a6e22e>chunkIndex</span><span style=color:#f92672>].</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>item</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>resultArray</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span><span style=color:#f92672>,</span> <span style=color:#f92672>[])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>result</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Ahora</span> <span style=color:#a6e22e>habiendo</span> <span style=color:#a6e22e>completado</span> <span style=color:#a6e22e>cada</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>las</span> <span style=color:#a6e22e>filas</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>subcuadrillas</span> <span style=color:#a6e22e>para</span> <span style=color:#a6e22e>completar</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>cuadrilla</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>creamos</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>matriz</span> <span style=color:#a6e22e>con</span> <span style=color:#a6e22e>respecto</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>ancho</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>imagen</span> 
</span></span><span style=display:flex><span>  <span style=color:#f92672>//</span> <span style=color:#a6e22e>Aca</span> <span style=color:#a6e22e>se</span> <span style=color:#a6e22e>crea</span> <span style=color:#a6e22e>la</span> <span style=color:#a6e22e>matriz</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dividePixels</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[]</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>while</span><span style=color:#f92672>(</span><span style=color:#a6e22e>result</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>dividePixels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>result</span><span style=color:#f92672>.</span><span style=color:#a6e22e>splice</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>dividePixels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>join_square</span> <span style=color:#f92672>=[]</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>temp</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[]</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>dividePixels</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span>  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span><span style=color:#f92672>.</span><span style=color:#a6e22e>log</span><span style=color:#f92672>(</span><span style=color:#a6e22e>j</span><span style=color:#f92672>,</span><span style=color:#a6e22e>i</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>temp</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>dividePixels</span><span style=color:#f92672>[</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#a6e22e>i</span><span style=color:#f92672>])</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>if</span><span style=color:#f92672>(</span><span style=color:#a6e22e>j</span><span style=color:#f92672>%</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>==</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>)</span><span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>        <span style=color:#f92672>//</span> <span style=color:#a6e22e>completemos</span> <span style=color:#a6e22e>cada</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>las</span> <span style=color:#a6e22e>subcuadrillas</span> <span style=color:#a6e22e>dentro</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>una</span> <span style=color:#a6e22e>cuadrilla</span> <span style=color:#a6e22e>para</span> <span style=color:#a6e22e>luego</span> <span style=color:#a6e22e>sacar</span> <span style=color:#a6e22e>el</span> <span style=color:#a6e22e>promedio</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>join_square</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>temp</span><span style=color:#f92672>)</span> 
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>temp</span><span style=color:#f92672>=[]</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>divide_join</span><span style=color:#f92672>=[]</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>while</span><span style=color:#f92672>(</span><span style=color:#a6e22e>join_square</span><span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span> <span style=color:#a6e22e>divide_join</span><span style=color:#f92672>.</span><span style=color:#a6e22e>push</span><span style=color:#f92672>(</span><span style=color:#a6e22e>join_square</span><span style=color:#f92672>.</span><span style=color:#a6e22e>splice</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span><span style=color:#a6e22e>DIVIDE_QUADRILLE</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>DIVIDE_QUADRILLE</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span>  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>k</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>k</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span> 
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>for</span><span style=color:#f92672>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>l</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>l</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span> <span style=color:#f92672>;</span> <span style=color:#a6e22e>l</span><span style=color:#f92672>++)</span><span style=color:#75715e>{</span>  
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>r</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>divide_join</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#a6e22e>k</span><span style=color:#f92672>][</span><span style=color:#a6e22e>l</span><span style=color:#f92672>][</span><span style=color:#ae81ff>0</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>g</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>divide_join</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#a6e22e>k</span><span style=color:#f92672>][</span><span style=color:#a6e22e>l</span><span style=color:#f92672>][</span><span style=color:#ae81ff>1</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>b</span> <span style=color:#f92672>+=</span><span style=color:#a6e22e>divide_join</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#a6e22e>k</span><span style=color:#f92672>][</span><span style=color:#a6e22e>l</span><span style=color:#f92672>][</span><span style=color:#ae81ff>2</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>a</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>divide_join</span><span style=color:#f92672>[</span><span style=color:#a6e22e>i</span><span style=color:#f92672>][</span><span style=color:#a6e22e>j</span><span style=color:#f92672>][</span><span style=color:#a6e22e>k</span><span style=color:#f92672>][</span><span style=color:#a6e22e>l</span><span style=color:#f92672>][</span><span style=color:#ae81ff>3</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>          
</span></span><span style=display:flex><span>        <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>}</span> 
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>/(</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>*</span><span style=color:#a6e22e>DIVIDE_SUBQUADRILLE</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>quadrille</span><span style=color:#f92672>.</span><span style=color:#a6e22e>fill</span><span style=color:#f92672>(</span><span style=color:#a6e22e>j</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>,</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>(</span><span style=color:#a6e22e>r</span><span style=color:#f92672>,</span><span style=color:#a6e22e>g</span><span style=color:#f92672>,</span><span style=color:#a6e22e>b</span><span style=color:#f92672>,</span><span style=color:#a6e22e>a</span><span style=color:#f92672>));</span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>}</span>
</span></span></code></pre></div></div></label></div><h3 id=imagen-original-a-analizar>Imagen Original a analizar
<a class=anchor href=#imagen-original-a-analizar>#</a></h3><p><img src=/visual_computing_page/sketches/happy.jpg alt=happy></p><h3 id=imagen-original-a-escala-04-division-de-15-subdivision-de-4>Imagen Original a escala 0.4, division de 15, subdivision de 4
<a class=anchor href=#imagen-original-a-escala-04-division-de-15-subdivision-de-4>#</a></h3><iframe id=sketch2_1 style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/objetos/p5.quadrille.js/p5.quadrille.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/raster/sketch2_1.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=imagen-original-a-escala-04-division-de-5-subdivision-de-5>Imagen Original a escala 0.4, division de 5, subdivision de 5
<a class=anchor href=#imagen-original-a-escala-04-division-de-5-subdivision-de-5>#</a></h3><iframe id=sketch2_2 style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/objetos/p5.quadrille.js/p5.quadrille.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/raster/sketch2_2.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=imagen-original-a-escala-04-division-de-40-subdivision-de-10>Imagen Original a escala 0.4, division de 40, subdivision de 10
<a class=anchor href=#imagen-original-a-escala-04-division-de-40-subdivision-de-10>#</a></h3><iframe id=sketch2_3 style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/objetos/p5.quadrille.js/p5.quadrille.min.js></script> 
            
            
            
            
            <script src=/visual_computing_page/sketches/raster/sketch2_3.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=fuentes>Fuentes
<a class=anchor href=#fuentes>#</a></h3><p>[1] <a href="https://www.youtube.com/watch?v=Ahg6tWA1Qzo">https://www.youtube.com/watch?v=Ahg6tWA1Qzo</a></p><p>[2] <a href=https://hardzone.es/reportajes/que-es/anti-aliasing-juegos/>https://hardzone.es/reportajes/que-es/anti-aliasing-juegos/</a></p><p>[3] <a href="https://en-m-wikipedia-org.translate.goog/wiki/Software_rendering?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=sc">https://en-m-wikipedia-org.translate.goog/wiki/Software_rendering?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=sc</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/dcafa2e0309ffbfb9dd49dfa6778d37a50608924 title='Last modified by nrrf | June 21, 2022' target=_blank rel=noopener><img src=/visual_computing_page/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 21, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#rasterization>Rasterization</a></li><li><a href=#renderizado-de-software-software-rendering>Renderizado de software (Software Rendering)</a><ul><li><a href=#estado-del-arte>Estado del arte</a></li></ul></li><li><a href=#aliasing-and-anti-alising-in-computer-graphics>Aliasing and Anti alising in Computer Graphics</a><ul><li><a href=#what-is-aliasing>What is Aliasing</a></li><li><a href=#anti-aliasing-and-methods>Anti aliasing and methods</a><ul><li><a href=#post-filtering-multisamppling>Post filtering (Multisamppling)</a></li><li><a href=#código>Código</a></li><li><a href=#imagen-original-a-analizar>Imagen Original a analizar</a></li><li><a href=#imagen-original-a-escala-04-division-de-15-subdivision-de-4>Imagen Original a escala 0.4, division de 15, subdivision de 4</a></li><li><a href=#imagen-original-a-escala-04-division-de-5-subdivision-de-5>Imagen Original a escala 0.4, division de 5, subdivision de 5</a></li><li><a href=#imagen-original-a-escala-04-division-de-40-subdivision-de-10>Imagen Original a escala 0.4, division de 40, subdivision de 10</a></li><li><a href=#fuentes>Fuentes</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>